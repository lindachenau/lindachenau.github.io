{"version":3,"sources":["webpack:///./src/components/signin.js","webpack:///./src/pages/signin.js","webpack:///./node_modules/@material-ui/core/esm/Container/Container.js","webpack:///./src/components/auth-forms.js"],"names":["SignIn","state","username","email","password","error","loading","handleUpdate","event","target","name","setState","value","login","e","a","preventDefault","Auth","signIn","currentAuthenticatedUser","user","userInfo","attributes","setUser","navigate","console","log","render","title","this","autoComplete","className","to","onClick","type","disabled","role","aria-hidden","style","marginTop","React","Component","Amplify","configure","config","props","ref","classes","_props$component","component","_props$disableGutters","disableGutters","_props$fixed","fixed","_props$maxWidth","maxWidth","other","root","concat","capitalize","String","withStyles","theme","width","marginLeft","boxSizing","marginRight","paddingLeft","spacing","paddingRight","display","breakpoints","up","Object","keys","values","reduce","acc","breakpoint","maxWidthXs","Math","max","xs","maxWidthSm","sm","maxWidthMd","md","maxWidthLg","lg","maxWidthXl","xl","AuthForm","children","message","Email","onChange","id","aria-describedby","placeholder","Password","ConfirmationCode","auth_code","htmlFor"],"mappings":"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","file":"component---src-pages-signin-js-1b34b79f6d9e8342b2c8.js","sourcesContent":["import React from 'react'\nimport { Link } from 'gatsby'\nimport { navigate } from '@reach/router'\nimport { Auth } from 'aws-amplify'\n\nimport { setUser } from './app-user'\nimport { AuthForm, Email, Password } from './auth-forms'\n\nclass SignIn extends React.Component {\n  state = {\n    username: ``,\n    email: ``,\n    password: ``,\n    error: ``,\n    loading: false,\n  }\n\n  handleUpdate = event => {\n    if (event.target.name === 'email') {\n      this.setState({\n        [event.target.name]: event.target.value,\n        username: event.target.value,\n        error: '',\n      })\n    }\n    this.setState({\n      [event.target.name]: event.target.value,\n      error: '',\n    })\n  }\n\n  login = async e => {\n    e.preventDefault()\n    const { username, password } = this.state\n    try {\n      this.setState({ loading: true })\n      await Auth.signIn(username, password)\n      const user = await Auth.currentAuthenticatedUser()\n      const userInfo = {\n        ...user.attributes,\n        username: user.username,\n      }\n      setUser(userInfo)\n      this.setState({ loading: false })\n      navigate('/')\n    } catch (err) {\n      this.setState({ error: err, loading: false })\n      console.log('error...: ', err)\n    }\n  }\n\n  render() {\n    return (\n      <AuthForm title=\"Sign in to your account\" error={this.state.error}>\n        <Email\n          handleUpdate={this.handleUpdate}\n          email={this.state.email}\n          autoComplete=\"on\"\n        />\n        <Password\n          handleUpdate={this.handleUpdate}\n          password={this.state.password}\n          autoComplete=\"on\"\n        />\n        <p className=\"text-center\">\n          Forgot your password? <Link to=\"/reset\">Reset password</Link>\n        </p>\n        <button\n          onClick={e => this.login(e)}\n          type=\"submit\"\n          className=\"btn btn-primary btn-block\"\n          disabled={this.state.loading}\n        >\n          {this.state.loading ? null : 'Sign In'}\n          {this.state.loading && (\n            <span\n              className=\"spinner-border spinner-border-sm\"\n              role=\"status\"\n              aria-hidden=\"true\"\n            />\n          )}\n        </button>\n        <p style={{ marginTop: 40 }} className=\"text-center\">\n          No account? <Link to=\"/signup\">Create account</Link>\n        </p>\n      </AuthForm>\n    )\n  }\n}\n\nexport default SignIn\n","\nimport React from 'react'\nimport Layout from '../components/layout'\n\nimport SignIn from '../components/signin'\nimport Amplify from 'aws-amplify'\nimport config from '../aws-exports'\nAmplify.configure(config)\n\nexport default () => (\n  <Layout>\n    <SignIn/>\n  </Layout>\n)\n","import \"core-js/modules/es6.string.fixed\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.reduce\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: _defineProperty({\n      width: '100%',\n      marginLeft: 'auto',\n      boxSizing: 'border-box',\n      marginRight: 'auto',\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      display: 'block'\n    }, theme.breakpoints.up('sm'), {\n      paddingLeft: theme.spacing(3),\n      paddingRight: theme.spacing(3)\n    }),\n\n    /* Styles applied to the root element if `disableGutters={true}`. */\n    disableGutters: {\n      paddingLeft: 0,\n      paddingRight: 0\n    },\n\n    /* Styles applied to the root element if `fixed={true}`. */\n    fixed: Object.keys(theme.breakpoints.values).reduce(function (acc, breakpoint) {\n      var value = theme.breakpoints.values[breakpoint];\n\n      if (value !== 0) {\n        acc[theme.breakpoints.up(breakpoint)] = {\n          maxWidth: value\n        };\n      }\n\n      return acc;\n    }, {}),\n\n    /* Styles applied to the root element if `maxWidth=\"xs\"`. */\n    maxWidthXs: _defineProperty({}, theme.breakpoints.up('xs'), {\n      maxWidth: Math.max(theme.breakpoints.values.xs, 444)\n    }),\n\n    /* Styles applied to the root element if `maxWidth=\"sm\"`. */\n    maxWidthSm: _defineProperty({}, theme.breakpoints.up('sm'), {\n      maxWidth: theme.breakpoints.values.sm\n    }),\n\n    /* Styles applied to the root element if `maxWidth=\"md\"`. */\n    maxWidthMd: _defineProperty({}, theme.breakpoints.up('md'), {\n      maxWidth: theme.breakpoints.values.md\n    }),\n\n    /* Styles applied to the root element if `maxWidth=\"lg\"`. */\n    maxWidthLg: _defineProperty({}, theme.breakpoints.up('lg'), {\n      maxWidth: theme.breakpoints.values.lg\n    }),\n\n    /* Styles applied to the root element if `maxWidth=\"xl\"`. */\n    maxWidthXl: _defineProperty({}, theme.breakpoints.up('xl'), {\n      maxWidth: theme.breakpoints.values.xl\n    })\n  };\n};\nvar Container = React.forwardRef(function Container(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      _props$fixed = props.fixed,\n      fixed = _props$fixed === void 0 ? false : _props$fixed,\n      _props$maxWidth = props.maxWidth,\n      maxWidth = _props$maxWidth === void 0 ? 'lg' : _props$maxWidth,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\", \"disableGutters\", \"fixed\", \"maxWidth\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, fixed && classes.fixed, disableGutters && classes.disableGutters, maxWidth !== false && classes[\"maxWidth\".concat(capitalize(String(maxWidth)))]),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiContainer'\n})(Container);","import React from 'react'\nimport Container from '@material-ui/core/Container'\n\nexport function AuthForm({ children, title, error }) {\n  return (\n    <Container maxWidth=\"xs\" className=\"mdb-color-text\">\n      <h2 className=\"pt-5 pb-3 text-center h2-responsive font-weight-bold\" >{title}</h2>\n      {error && (\n        <p className=\"text-danger\">\n          {error.message ? error.message : error}\n        </p>\n      )}\n      {children}\n    </Container>\n  )\n}\n\nexport function Email({ handleUpdate, email, autoComplete }) {\n  return (\n    <div className=\"form-group\">\n      <input\n        onChange={handleUpdate}\n        name=\"email\"\n        type=\"email\"\n        value={email}\n        className=\"form-control\"\n        autoComplete={autoComplete}\n        id=\"enterEmailAddress\"\n        aria-describedby=\"emailHelp\"\n        placeholder=\"email\"\n      />\n    </div>\n  )\n}\n\nexport function Password({ handleUpdate, password, autoComplete }) {\n  return (\n    <div className=\"form-group\">\n      <input\n        onChange={handleUpdate}\n        autoComplete={autoComplete}\n        name=\"password\"\n        value={password}\n        type=\"password\"\n        className=\"form-control\"\n        placeholder=\"password\"\n        id=\"enterPassword\"\n      />\n    </div>\n  )\n}\n\nexport function ConfirmationCode({ handleUpdate, auth_code, autoComplete }) {\n  return (\n    <div className=\"form-group\">\n      <label htmlFor=\"enterCode\">Confirmation Code</label>\n      <input\n        onChange={handleUpdate}\n        autoComplete={autoComplete}\n        name=\"auth_code\"\n        value={auth_code}\n        type=\"text\"\n        className=\"form-control\"\n        placeholder=\"######\"\n        id=\"enterCode\"\n      />\n    </div>\n  )\n}\n"],"sourceRoot":""}